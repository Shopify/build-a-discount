mutation {
  discountAutomaticBxgyCreate(
    automaticBxgyDiscount: {
      title: "BXGY discount test"
      startsAt: "2022-01-01"
      endsAt: "2024-04-18T02:38:45Z"
      usesPerOrderLimit: "1"
      # [START build-a-discount.product-id-buys]
      customerBuys: {
        value: { quantity: "1" }
        items: { products: { productsToAdd: ["gid://shopify/Product/1"] } }
      }
      # [END build-a-discount.product-id-buys]
      customerGets: {
        # [START build-a-discount.percentage]
        value: {
          discountOnQuantity: { quantity: "1", effect: { percentage: 1.00 } }
        }
        # [END build-a-discount.percentage]
        # [START build-a-discount.product-id-gets]
        items: { products: { productsToAdd: ["gid://shopify/Product/1"] } }
        # [END build-a-discount.product-id-gets]
      }
    }
  ) {
    userErrors {
      field
      message
      code
    }
    automaticDiscountNode {
      id
      automaticDiscount {
        ... on DiscountAutomaticBxgy {
          title
          summary
          status
        }
      }
    }
  }
}
